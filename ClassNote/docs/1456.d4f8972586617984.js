"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1456],{1456:(M,u,r)=>{r.r(u),r.d(u,{LoginPageModule:()=>x});var f=r(1368),i=r(6504),m=r(7048),s=r(2112),c=r(2992),d=r(1528),o=r(4496),h=r(3476),v=r(6716);let p=(()=>{var t;class a{constructor(n){this.httpClient=n,this.API=v.O.baseApiUrl}autorizarJwt(n){localStorage.setItem("token",n)}loginState(){let n=localStorage.getItem("token");return this.httpClient.post(this.API+"login/verificarLogin.php",{token:n})}loginVerify(n){return console.log(n),this.httpClient.post(this.API+"login/login.php",n)}logout(){localStorage.clear()}}return(t=a).\u0275fac=function(n){return new(n||t)(o.CoB(m.KK))},t.\u0275prov=o.wxM({token:t,factory:t.\u0275fac,providedIn:"root"}),a})();const w=[{path:"",component:(()=>{var t;class a{constructor(n,e,g,b,P){this.authService=n,this.router=e,this.http=g,this.toastController=b,this.loginService=P}ngOnInit(){localStorage.clear(),this.createFormAdd()}get username(){return this.UserForm.get("username")}createFormAdd(){this.UserForm=new i.WC({username:new i.Ku("",i.AQ.compose([i.AQ.maxLength(70),i.AQ.minLength(3),i.AQ.required])),password:new i.Ku("",i.AQ.compose([i.AQ.required]))})}validarLogin(n){this.loginService.loginVerify(n).subscribe(e=>{console.log(e),"1"==e.success?(this.loginService.autorizarJwt(e.token),localStorage.setItem("usuario",JSON.stringify(e.usuario)),this.presentToast("ok"),this.authService.login(e.token),this.authService.isAdmin(e.token)?(console.log(this.UserForm.value.username),this.router.navigate(["/home-admin"])):this.authService.isTeacher(e.token)?(console.log(this.UserForm.value.username),this.router.navigate(["/turma"])):this.authService.isMonitor(e.token)?(console.log(this.UserForm.value.username),this.router.navigate(["/home-monitor"])):(this.presentToast("error"),console.log("Formul\xe1rio inv\xe1lido!"))):(this.presentToast("error"),console.log("Formul\xe1rio inv\xe1lido!"))})}presentToast(n){var e=this;return(0,d.c)(function*(){let g;g="ok"==n?yield e.toastController.create({message:`Dados corretos! bem vindo, ${e.UserForm.value.username}`,duration:2500,color:"success",position:"bottom"}):yield e.toastController.create({message:"Falha no login, tente novamente.",duration:2500,color:"danger",position:"bottom"}),yield g.present(),console.log(n)})()}}return(t=a).\u0275fac=function(n){return new(n||t)(o.GI1(h.A),o.GI1(c.E5),o.GI1(m.KK),o.GI1(s.Gq),o.GI1(p))},t.\u0275cmp=o.In1({type:t,selectors:[["app-login"]],decls:46,vars:2,consts:[["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap","rel","stylesheet"],["name","viewport","content","width=device-width, initial-scale=1.0"],["mode","ios",1,"ion-padding",3,"fullscreen"],[1,"center-content"],["id","bubble1","width","316","height","316","viewBox","0 0 316 316","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","117","cy","117","r","117","fill","#1970C0","opacity","0.5"],["id","bubble2","width","234","height","234","viewBox","0 0 234 234","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","117","cy","117","r","117","fill","#1970C0","opacity","0.2"],["id","bubble3","width","187","height","187","viewBox","0 0 237 237","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","117","cy","117","r","117","fill","#1970C0","opacity","0.8"],["id","bubble4","width","234","height","234","viewBox","0 0 234 234","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","117","cy","117","r","117","fill","#1970C0","opacity","0.3"],["id","bubble5","width","234","height","234","viewBox","0 0 234 234","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","117","cy","117","r","117","fill","#1970C0","opacity","0.6"],[1,"ion-justify-content-center","ion-padding"],[1,"ion-justify-content-center"],["size-sm","8","size","12",1,"ion-text-center"],["src","../../../assets/img/logo-anglo-tatui.png","alt","Logo","width","70%",1,"fade-in",2,"max-width","225px"],["size-sm","8","size-md","6","size","12",1,"ion-text-center","ion-padding","form-col"],[3,"formGroup","ngSubmit"],["FormLogin","ngForm"],["lines","none"],["position","floating",2,"color","#4D4D4D","opacity","1"],["formControlName","username","ngModel","","name","username","id","username","type","text","required",""],["formControlName","password","ngModel","","name","password","id","password","type","password","required",""],["expand","block","type","submit","fill","outline",1,"ion-margin-top",2,"font-family","Josefin Sans","font-weight","bold","opacity","1"],[1,"ion-margin-top"],["routerLink","/forgot-password",2,"cursor","pointer","color","#1970C0"],[1,"footer"],["size","8",1,"ion-text-center"],[2,"opacity","0.5","font-size","12px"]],template:function(n,e){1&n&&(o.wR5(0,"link",0)(1,"link",1)(2,"link",2)(3,"meta",3),o.I0R(4,"ion-content",4)(5,"div",5),o.S2Z(),o.I0R(6,"svg",6),o.wR5(7,"circle",7),o.C$Y(),o.I0R(8,"svg",8),o.wR5(9,"circle",9),o.C$Y(),o.I0R(10,"svg",10),o.wR5(11,"circle",11),o.C$Y(),o.I0R(12,"svg",12),o.wR5(13,"circle",13),o.C$Y(),o.I0R(14,"svg",14),o.wR5(15,"circle",15),o.C$Y(),o.gRP(),o.I0R(16,"ion-grid",16)(17,"ion-row",17)(18,"ion-col",18),o.wR5(19,"img",19),o.C$Y()(),o.I0R(20,"ion-row",17)(21,"ion-col",20)(22,"form",21,22),o.qCj("ngSubmit",function(){return e.validarLogin(e.UserForm.value)}),o.I0R(24,"ion-item",23)(25,"ion-label",24),o.OEk(26,"Usu\xe1rio"),o.C$Y(),o.wR5(27,"ion-input",25),o.C$Y(),o.I0R(28,"ion-item",23)(29,"ion-label",24),o.OEk(30,"Senha"),o.C$Y(),o.wR5(31,"ion-input",26),o.C$Y(),o.I0R(32,"ion-button",27),o.OEk(33,"Entrar"),o.C$Y()(),o.I0R(34,"ion-row")(35,"ion-col",28)(36,"span"),o.OEk(37,"Esqueceu sua senha? "),o.C$Y(),o.I0R(38,"span",29),o.OEk(39,"Clique aqui!"),o.C$Y()()()(),o.I0R(40,"ion-row",30)(41,"ion-col",31)(42,"p",32),o.OEk(43,"Desenvolvido por Jo\xe3o Marins,"),o.wR5(44,"br"),o.OEk(45," Departamento de Tecnologia e Marketing do Col\xe9gio Anglo Tatu\xed."),o.C$Y()()()()()()()),2&n&&(o.yG2(4),o.E7m("fullscreen",!0),o.yG2(18),o.E7m("formGroup",e.UserForm))},dependencies:[i.sz,i.ue,i.u,i.eJ,i.uW,i.Wo,s.sn,s.Kk,s._i,s.YP,s.A5,s.Yb,s.QR,s.qo,s.qG,s.mY,c.ER],styles:[".center-content[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.footer[_ngcontent-%COMP%]{position:absolute;bottom:0;align-items:center;justify-content:center;text-align:center}.form-col[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:10px;outline:1px solid rgba(25,111,192,.3490196078);opacity:.8}#bubble1[_ngcontent-%COMP%]{transform-origin:bottom;position:fixed;animation:_ngcontent-%COMP%_moving 8s infinite alternate}@keyframes _ngcontent-%COMP%_moving{0%{transform:translate(65px,40px)}to{transform:translate(-65px,-180px)}}#bubble2[_ngcontent-%COMP%]{transform-origin:bottom;position:fixed;animation:_ngcontent-%COMP%_moving2 8s infinite alternate}@keyframes _ngcontent-%COMP%_moving2{0%{transform:translate(150px,-130)}to{transform:translate(-250px,-230px)}}#bubble3[_ngcontent-%COMP%]{transform-origin:bottom;position:fixed;animation:_ngcontent-%COMP%_moving3 8s infinite alternate}@keyframes _ngcontent-%COMP%_moving3{0%{transform:translate(40px,-60px)}to{transform:translate(130px,-260px)}}#bubble4[_ngcontent-%COMP%]{transform-origin:bottom;position:fixed;animation:_ngcontent-%COMP%_moving4 8s infinite alternate}@keyframes _ngcontent-%COMP%_moving4{0%{transform:translate(-110px,-50px)}0%{transform:translate(30px,-120px)}to{transform:translate(170px,-190px)}}#bubble5[_ngcontent-%COMP%]{transform-origin:bottom;position:fixed;animation:_ngcontent-%COMP%_moving5 8s infinite alternate}@keyframes _ngcontent-%COMP%_moving5{0%{transform:translate(-10px,-150px)}to{transform:translate(190px,20px)}}.fade-in[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeIn 1.8s forwards}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]}),a})()}];let C=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.a4G({type:t}),t.\u0275inj=o.s3X({imports:[c.qQ.forChild(w),c.qQ]}),a})();var y=r(7536);let x=(()=>{var t;class a{}return(t=a).\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.a4G({type:t}),t.\u0275inj=o.s3X({providers:[p],imports:[y.cN,f.MD,i.y,i.sl,s.wZ,C,m.SU]}),a})()}}]);