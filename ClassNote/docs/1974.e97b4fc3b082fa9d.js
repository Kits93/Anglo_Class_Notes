"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1974],{1974:(w,g,e)=>{e.r(g),e.d(g,{TurmaAulasPageModule:()=>k});var m=e(1368),T=e(6504),P=e(7048),i=e(2112),p=e(2992),h=e(1528),f=e(4096),A=e(3548),t=e(4496),v=e(2892),C=e(5176),x=e(3420),y=e(2696);function G(o,u){1&o&&(t.I0R(0,"ion-card-content")(1,"ion-row")(2,"ion-col",14),t.wR5(3,"ion-skeleton-text",15)(4,"ion-skeleton-text",16),t.C$Y(),t.I0R(5,"ion-col",17),t.wR5(6,"ion-skeleton-text",18)(7,"ion-skeleton-text",19),t.C$Y()()()),2&o&&(t.yG2(3),t.E7m("animated",!0),t.yG2(),t.E7m("animated",!0),t.yG2(2),t.E7m("animated",!0),t.yG2(),t.E7m("animated",!0))}function M(o,u){if(1&o&&(t.I0R(0,"ion-card-content")(1,"ion-row")(2,"ion-col",14)(3,"label",20),t.wR5(4,"ion-icon",21),t.OEk(5),t.C$Y(),t.I0R(6,"label",20),t.wR5(7,"ion-icon",22),t.OEk(8),t.C$Y()(),t.I0R(9,"ion-col",23)(10,"h3",24),t.OEk(11,"Conte\xfado"),t.C$Y(),t.I0R(12,"p"),t.OEk(13),t.C$Y()()()()),2&o){const l=t.GaO().$implicit;t.yG2(5),t.oRS(" Prof. ",l.username," "),t.yG2(3),t.oRS(" ",l.nome_disciplina," "),t.yG2(5),t.cNF(l.conteudo)}}const O=o=>({aula_nao_cadastrada:o});function I(o,u){if(1&o){const l=t.KQA();t.I0R(0,"div")(1,"ion-item",8),t.qCj("click",function(){const s=t.usT(l).$implicit,r=t.GaO();return t.CGJ(r.selectAula(s.id_aula,s.num_aula,r.nome_turma,s.fk_id_usuario))}),t.I0R(2,"ion-card",9)(3,"ion-card-header",10)(4,"ion-row")(5,"ion-col",11)(6,"h2"),t.OEk(7),t.C$Y()(),t.I0R(8,"ion-col",12)(9,"h2"),t.OEk(10),t.C$Y()()()(),t.yuY(11,G,8,4,"ion-card-content",13)(12,M,14,3,"ion-card-content",13),t.C$Y()()()}if(2&o){const l=u.$implicit,a=t.GaO();t.yG2(2),t.E7m("ngClass",t.S45(5,O,!l.id_aula)),t.yG2(5),t.oRS("Aula ",l.num_aula,""),t.yG2(3),t.cNF(a.dataSelected),t.yG2(),t.E7m("ngIf",a.isLoaded),t.yG2(),t.E7m("ngIf",!a.isLoaded)}}const R=[{path:"",component:(()=>{var o;class u{constructor(a,n,s,r,c,d){this.modalCtrl=a,this.turmaService=n,this.aulaService=s,this.comunicationService=r,this.location=c,this.toastCtrl=d,this.isLoaded=!1,this.aulas=[],this.fecharModalSubscription=this.comunicationService.fecharModal$.subscribe(()=>{this.listar_aulas()})}ngOnInit(){this.turma=localStorage.getItem("turma"),this.turma=JSON.parse(this.turma),this.usuario=localStorage.getItem("usuario"),this.usuario=JSON.parse(this.usuario),this.id_turma=this.turma.id_turma,this.nome_turma=this.turma.nome_turma,this.ensino=this.turma.ensino,this.id_usuario=this.usuario.id_usuario,console.log(this.id_turma,this.id_usuario,this.nome_turma,this.ensino)}ngOnDestroy(){this.fecharModalSubscription.unsubscribe()}openFormModal(a,n,s){var r=this;return(0,h.c)(function*(){if(r.usuario.id_usuario===s){const c=yield r.modalCtrl.create({component:f.o,componentProps:{idAula:a,nomeTurma:n},mode:"ios"});yield c.present();const{data:d}=yield c.onDidDismiss();console.log("Dados do formul\xe1rio:",d)}else r.presentToast("Apenas o professor relacionado a aula e o administrador do sistema podem alterar esta aula!","warning-outline","warning")})()}presentToast(a,n,s){var r=this;return(0,h.c)(function*(){yield(yield r.toastCtrl.create({icon:n,message:a,duration:3e3,position:"bottom",color:s})).present()})()}openNewFormModal(a,n,s,r){var c=this;return(0,h.c)(function*(){const d=yield c.modalCtrl.create({component:A.A,componentProps:{numAula:a,idTurma:n,nomeTurma:s,dataAula:r},mode:"ios"});yield d.present();const{data:F}=yield d.onDidDismiss();console.log("Dados do formul\xe1rio:",F)})()}receiveDataFromCalendar(a){console.log("Dados recebidos do componente filho:",a),this.dataSelected=a,this.listar_aulas()}goBack(){this.location.back()}listar_aulas(){if(setTimeout(()=>{this.isLoaded=!1},200),this.id_turma&&this.ensino){console.log(this.dataSelected);const a={fk_id_turma:this.id_turma,data_selecionada:this.dataSelected,ensino:this.ensino};this.turmaService.readOne(a).subscribe(n=>{console.log(n),this.nome_turma=n.turmas[0].nome_turma}),this.aulaService.read(a).subscribe(n=>{console.log(this.id_turma),console.log(n),this.aulas=n.aulas,(!n.success||1!=n.success)&&(this.aulas=[]),this.isLoaded=!0})}else console.error("ID da turma n\xe3o definido");console.log(this.aulas)}selectAula(a,n,s,r){a?this.openFormModal(a,s,r):this.openNewFormModal(n,this.id_turma,s,this.dataSelected)}}return(o=u).\u0275fac=function(a){return new(a||o)(t.GI1(i.qS),t.GI1(v.M),t.GI1(C.k),t.GI1(x.W),t.GI1(m.oB),t.GI1(i.Gq))},o.\u0275cmp=t.In1({type:o,selectors:[["app-turma-aulas"]],decls:12,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back",2,"position","relative"],[1,"ion-text-center"],["lines","none"],[1,"ion-margin",2,"display","flex","justify-content","end",3,"dataEvent"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[2,"width","100%","cursor","pointer",3,"ngClass"],["color","light",2,"opacity","0.3"],[1,"ion-text-start"],[1,"ion-text-end"],[4,"ngIf"],["size","8",1,"ion-text-start",2,"display","flex","flex-direction","column","font-size","1.3em"],[2,"height","15px","width","40px",3,"animated"],[2,"height","15px","width","170px",3,"animated"],["size","4",1,"ion-text-center","ion-justify-content-center"],[2,"height","15px","width","115px",3,"animated"],[2,"height","15px","width","200px",3,"animated"],[2,"padding","15px"],["name","person"],["name","book"],["size","4",1,"ion-text-center"],[2,"font-weight","bold"]],template:function(a,n){1&a&&(t.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),t.qCj("click",function(){return n.goBack()}),t.wR5(4,"ion-icon",3),t.C$Y()(),t.I0R(5,"ion-title",4),t.OEk(6),t.C$Y()()(),t.I0R(7,"ion-content")(8,"ion-list",5)(9,"div")(10,"app-calendar",6),t.qCj("dataEvent",function(r){return n.receiveDataFromCalendar(r)}),t.C$Y()(),t.yuY(11,I,13,7,"div",7),t.C$Y()()),2&a&&(t.E7m("translucent",!0),t.yG2(6),t.CAO("",n.nome_turma," - ",n.ensino,""),t.yG2(5),t.E7m("ngForOf",n.aulas))},dependencies:[m.QF,m.ay,m.u_,i.sn,i.GS,i.KC,i.Gg,i.YY,i.Kk,i._i,i.wB,i.Ko,i.Yb,i.OC,i.qo,i.iI,i.tM,i.Md,y.m],styles:[".desktop-table[_ngcontent-%COMP%]{--ion-col-width: 25%}.mobile-table[_ngcontent-%COMP%]{--ion-col-width: 50%}.infos[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;background:#4669db}.infos[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{color:#fff;font-size:13px;padding:auto;font-weight:700}.aula-turma[_ngcontent-%COMP%]{background:#bdccffb9;padding-top:5px;padding-bottom:5px;border-bottom:1px solid #fff}.aula-turma[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:12px}.aula_nao_cadastrada[_ngcontent-%COMP%]{opacity:.5}"]}),u})()}];let S=(()=>{var o;class u{}return(o=u).\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.a4G({type:o}),o.\u0275inj=t.s3X({imports:[p.qQ.forChild(R),p.qQ]}),u})();var b=e(9652),E=e(3524),Y=e(6708),_=e(1544),$=e(1200);let k=(()=>{var o;class u{}return(o=u).\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.a4G({type:o}),o.\u0275inj=t.s3X({providers:[C.k,v.M,b.K,E.e],imports:[m.MD,T.y,i.wZ,S,P.SU,y.m,f.o,Y.U1,_.wb,$.iU]}),u})()}}]);