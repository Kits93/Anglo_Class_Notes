"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1812],{1812:(_,m,e)=>{e.r(m),e.d(m,{TurmaAulasPageModule:()=>F});var d=e(1368),T=e(4716),A=e(7048),s=e(2112),f=e(2270),h=e(1528),g=e(8500),P=e(4864),a=e(4496),p=e(2892),v=e(5176),G=e(3420),y=e(2696);function M(o,l){1&o&&(a.I0R(0,"ion-label"),a.wR5(1,"ion-skeleton-text",9)(2,"ion-skeleton-text",10)(3,"ion-skeleton-text",11)(4,"ion-skeleton-text",12),a.C$Y()),2&o&&(a.yG2(),a.E7m("animated",!0),a.yG2(),a.E7m("animated",!0),a.yG2(),a.E7m("animated",!0),a.yG2(),a.E7m("animated",!0))}function O(o,l){if(1&o&&(a.I0R(0,"ion-label")(1,"h2"),a.OEk(2),a.C$Y(),a.I0R(3,"p"),a.OEk(4),a.C$Y(),a.I0R(5,"p"),a.OEk(6),a.C$Y(),a.I0R(7,"p"),a.OEk(8),a.C$Y()()),2&o){const i=a.GaO().$implicit;a.yG2(2),a.oRS("Aula ",i.num_aula,""),a.yG2(2),a.oRS("Disciplina: ",i.nome_disciplina,""),a.yG2(2),a.oRS("Professor: ",i.username,""),a.yG2(2),a.oRS("Conte\xfado: ",i.conteudo,"")}}function I(o,l){if(1&o&&(a.I0R(0,"ion-label")(1,"h2"),a.OEk(2),a.C$Y(),a.I0R(3,"p"),a.OEk(4),a.C$Y()()),2&o){const i=a.GaO().$implicit;a.yG2(2),a.oRS("Aula ",i.num_aula,""),a.yG2(2),a.cNF(i.nome_disciplina)}}function b(o,l){if(1&o){const i=a.KQA();a.I0R(0,"div")(1,"ion-item",7),a.qCj("click",function(){const r=a.usT(i).$implicit,u=a.GaO();return a.CGJ(u.selectAula(r.id_aula,r.num_aula,u.nome_turma))}),a.yuY(2,M,5,4,"ion-label",8)(3,O,9,4,"ion-label",8)(4,I,5,2,"ion-label",8),a.C$Y()()}if(2&o){const i=l.$implicit,t=a.GaO();a.yG2(2),a.E7m("ngIf",t.isLoaded),a.yG2(),a.E7m("ngIf",null!=i.id_aula&&!t.isLoaded),a.yG2(),a.E7m("ngIf",null==i.id_aula&&!t.isLoaded)}}const R=[{path:"",component:(()=>{var o;class l{constructor(t,n,r,u,c){this.modalCtrl=t,this.turmaService=n,this.aulaService=r,this.comunicationService=u,this.location=c,this.isLoaded=!1,this.aulas=[],this.fecharModalSubscription=this.comunicationService.fecharModal$.subscribe(()=>{this.listar_aulas()})}ngOnInit(){window.history.state.id_turma?(this.id_turma=window.history.state.id_turma,this.id_usuario=window.history.state.id_usuario,this.ensino=window.history.state.ensino,console.log(this.id_turma),console.log(this.id_usuario),console.log(this.ensino)):console.error("ID da turma n\xe3o definido")}ngOnDestroy(){this.fecharModalSubscription.unsubscribe()}openFormModal(t,n){var r=this;return(0,h.c)(function*(){console.log(t,n);const u=yield r.modalCtrl.create({component:g.o,componentProps:{idAula:t,nomeTurma:n},mode:"ios"});yield u.present();const{data:c}=yield u.onDidDismiss();console.log("Dados do formul\xe1rio:",c)})()}openNewFormModal(t,n,r,u){var c=this;return(0,h.c)(function*(){const C=yield c.modalCtrl.create({component:P.A,componentProps:{numAula:t,idTurma:n,nomeTurma:r,dataAula:u},mode:"ios"});yield C.present();const{data:k}=yield C.onDidDismiss();console.log("Dados do formul\xe1rio:",k)})()}receiveDataFromCalendar(t){console.log("Dados recebidos do componente filho:",t),this.dataSelected=t,this.listar_aulas()}goBack(){this.location.back()}listar_aulas(){if(setTimeout(()=>{this.isLoaded=!1},200),this.id_turma&&this.ensino){console.log(this.dataSelected);const t={fk_id_turma:this.id_turma,data_selecionada:this.dataSelected,ensino:this.ensino};this.turmaService.readOne(t).subscribe(n=>{console.log(n),this.nome_turma=n.turmas[0].nome_turma}),this.aulaService.read(t).subscribe(n=>{console.log(this.id_turma),console.log(n),this.aulas=n.aulas,(!n.success||1!=n.success)&&(this.aulas=[]),this.isLoaded=!0})}else console.error("ID da turma n\xe3o definido");console.log(this.aulas)}selectAula(t,n,r){t?this.openFormModal(t,r):this.openNewFormModal(n,this.id_turma,r,this.dataSelected)}}return(o=l).\u0275fac=function(t){return new(t||o)(a.GI1(s.qS),a.GI1(p.M),a.GI1(v.k),a.GI1(G.W),a.GI1(d.oB))},o.\u0275cmp=a.In1({type:o,selectors:[["app-turma-aulas"]],decls:12,vars:4,consts:[[3,"translucent"],["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back",2,"position","relative"],[1,"ion-text-center"],[1,"ion-margin",2,"display","flex","justify-content","end",3,"dataEvent"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click"],[4,"ngIf"],[2,"width","40px",3,"animated"],[2,"width","170px",3,"animated"],[2,"width","120px",3,"animated"],[2,"width","200px",3,"animated"]],template:function(t,n){1&t&&(a.I0R(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),a.qCj("click",function(){return n.goBack()}),a.wR5(4,"ion-icon",3),a.C$Y()(),a.I0R(5,"ion-title",4),a.OEk(6),a.C$Y()()(),a.I0R(7,"ion-content")(8,"ion-list")(9,"div")(10,"app-calendar",5),a.qCj("dataEvent",function(u){return n.receiveDataFromCalendar(u)}),a.C$Y()(),a.yuY(11,b,5,3,"div",6),a.C$Y()()),2&t&&(a.E7m("translucent",!0),a.yG2(6),a.CAO("",n.nome_turma," - ",n.ensino,""),a.yG2(5),a.E7m("ngForOf",n.aulas))},dependencies:[d.ay,d.u_,s.sn,s.GS,s._i,s.wB,s.Ko,s.Yb,s.QR,s.OC,s.iI,s.tM,s.Md,y.m],styles:[".desktop-table[_ngcontent-%COMP%]{--ion-col-width: 25%}.mobile-table[_ngcontent-%COMP%]{--ion-col-width: 50%}.infos[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;background:#4669db}.infos[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{color:#fff;font-size:13px;padding:auto;font-weight:700}.aula-turma[_ngcontent-%COMP%]{background:#bdccffb9;padding-top:5px;padding-bottom:5px;border-bottom:1px solid #fff}.aula-turma[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{font-size:12px}"]}),l})()}];let S=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.a4G({type:o}),o.\u0275inj=a.s3X({imports:[f.qQ.forChild(R),f.qQ]}),l})();var x=e(9652),E=e(3524),$=e(6708),Y=e(6516),D=e(1200);let F=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=a.a4G({type:o}),o.\u0275inj=a.s3X({providers:[v.k,p.M,x.K,E.e],imports:[d.MD,T.y,s.wZ,S,A.SU,y.m,g.o,$.U1,Y.wb,D.iU]}),l})()}}]);